(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{hvlT:function(t,e,a){"use strict";a.r(e);var n=a("q1tI"),r=a.n(n),o=a("ok1R"),c=a("rhny"),u=a("sOKU"),l=a("BLzl"),i=a("/kxI"),s=a("/MKj"),f=a("17x9"),d=a.n(f),p=a("d/v1"),m=a("pJVQ"),h=a("WAKd"),b=a("BfhE"),v=a("fg8b"),g=a("HbAz");function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}var y=function(t){var e=t.onSaveAuthor,a=t.handleSubmit,u=Object(n.createRef)();Object(n.useEffect)((function(){u.current.focus()}),[]);return r.a.createElement(o.a,{className:"animated fadeIn m-3"},r.a.createElement(c.a,{xs:12},r.a.createElement(p.a,{name:"first_name",label:"profile.input.first-name.label",required:!0,inputRef:u,groupText:"user-circle-o",component:b.a})),r.a.createElement(c.a,{xs:12},r.a.createElement(p.a,{name:"last_name",label:"profile.input.last-name.label",groupText:"user",component:b.a})),r.a.createElement(c.a,{xs:12},r.a.createElement(p.a,{name:"description",label:"authors.input.description.label",component:g.a})),r.a.createElement(c.a,{xs:12},r.a.createElement(v.a,O({onSave:a((function(t){e(t)}))},t))))};y.propTypes={initialValues:d.a.object,onSaveAuthor:d.a.func,handleSubmit:d.a.func};var E=Object(m.a)({form:"authorForm",validate:function(t){var e={};return t.first_name||(e.first_name=Object(h.g)("profile.input.first-name.validate.label")),e}})(y),j=a("ndVE"),A=a("lJhE"),w=a("XHFK");function R(){return(R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}var x=function(t){var e=t.addAuthor,a={onSaveAuthor:function(t){e(t,w.b.OBJ)},onCancel:t.toggleModal};return r.a.createElement(j.a,R({},t,{content:r.a.createElement(E,a)}))};x.propTypes={addAuthor:d.a.func,toggleModal:d.a.func};var T=Object(s.b)(null,{addAuthor:A.a})(x);function _(){return(_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}var C=function(t){var e=t.author,a=t.editAuthor,n={onSaveAuthor:function(t){a(e.id,t)},onCancel:t.toggleModal,initialValues:{first_name:e.first_name,last_name:e.last_name,description:e.description}};return r.a.createElement(j.a,_({},t,{content:r.a.createElement(E,n)}))};C.propTypes={author:d.a.object,editAuthor:d.a.func,toggleModal:d.a.func};var S=Object(s.b)(null,{editAuthor:A.c})(C),H=a("unre");function M(){return(M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t}).apply(this,arguments)}var I=function(t){var e=t.authorId,a=t.deleteAuthor,n=t.toggleModal;return r.a.createElement(j.a,M({},t,{actions:r.a.createElement(H.a,{onDelete:function(){a(e)},onCancel:n})}))};I.propTypes={authorId:d.a.number,deleteAuthor:d.a.func,toggleModal:d.a.func};var k=Object(s.b)(null,{deleteAuthor:A.b})(I),U=a("WOoH"),D=function(t){var e=t.author,a=t.isCreate,n=t.isEdit,o=t.isDelete,c={author:e},u={authorId:e?e.id:null},l={modalTitle:Object(h.l)(a,n,o,"authors.input.new-btn.label","authors.modal.edit.title","authors.modal.delete.title"),NewComponent:T,EditComponent:S,DeleteComponent:k,deleteKey:e?e.last_name?e.first_name+" "+e.last_name:e.first_name:null,editConfig:c,delConfig:u,props:t};return r.a.createElement(U.a,l)};D.propTypes={author:d.a.object,isCreate:d.a.bool,isEdit:d.a.bool,isDelete:d.a.bool};var P=D,N=a("PY+g"),W=a("SR2/"),L=a("tgHS"),K=a("NHeP"),J=a("leCq"),z=a("gdP5");function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var n,r,o=[],c=!0,u=!1;try{for(a=a.call(t);!(c=(n=a.next()).done)&&(o.push(n.value),!e||o.length!==e);c=!0);}catch(t){u=!0,r=t}finally{try{c||null==a.return||a.return()}finally{if(u)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return X(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return X(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var q=function(t){var e=t.authors,a=t.toggleModal,n=t.totalRecord,s=t.isLoading,f=t.fetchAuthors,d=F(Object(J.c)(),5),p=d[0],m=d[1],b=d[2],v=d[3],g=d[4],O={author:v,isCreate:p,isEdit:m,isDelete:b,toggleModal:a},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g(t,e,n),a()},E=[{name:Object(h.g)("react-data-table.name.column"),selector:"first_name",sortable:!0,cell:function(t){return r.a.createElement("span",null,t.first_name," ",t.last_name)},minWidth:"400px"},{name:Object(h.g)("react-data-table.action.column"),selector:"id",right:!0,cell:function(t){return r.a.createElement(L.a,{onOpenModal:y,item:t})},ignoreRowClick:!0,allowOverflow:!0,button:!0}];return r.a.createElement(o.a,{className:"animated fadeIn"},r.a.createElement(c.a,{sm:12,className:"mb-2"},r.a.createElement(N.a,{title:"Authors"}),r.a.createElement("h5",{className:"page-heading"},Object(h.g)("authors.title")),r.a.createElement(K.a,null),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(u.a,{onClick:function(){return y(!1)},size:"md",color:"primary ml-2 text-white"},Object(h.g)("authors.input.new-btn.label")))),r.a.createElement(c.a,{sm:12},r.a.createElement("div",{className:"sticky-table-container"},r.a.createElement(l.a,null,r.a.createElement(i.a,null,r.a.createElement(W.a,{items:e,columns:E,loading:s,emptyStateMessageId:"authors.empty-state.title",emptyNotFoundStateMessageId:"authors.not-found.empty-state.title",totalRows:n,onChange:function(t){f(t,!0)},icon:w.o.AUTHORS}),r.a.createElement(P,O))))))};q.propTypes={authors:d.a.array,totalRecord:d.a.number,isLoading:d.a.bool,fetchAuthors:d.a.func,toggleModal:d.a.func};e.default=Object(s.b)((function(t){return{authors:t.authors,isLoading:t.isLoading,totalRecord:t.totalRecord}}),{fetchAuthors:A.d,toggleModal:z.a})(q)},lJhE:function(t,e,a){"use strict";a.d(e,"d",(function(){return g})),a.d(e,"a",(function(){return O})),a.d(e,"c",(function(){return y})),a.d(e,"b",(function(){return E}));var n=a("o0o1"),r=a.n(n),o=a("LWX+"),c=a("q8lI"),u=a("xQOs"),l=a("zzOX"),i=a("gdP5"),s=a("p8CX"),f=a("4txZ"),d=a("LvDl"),p=a.n(d),m=a("WAKd"),h=a("XHFK");function b(t,e,a,n,r,o,c){try{var u=t[o](c),l=u.value}catch(t){return void a(t)}u.done?e(l):Promise.resolve(l).then(n,r)}function v(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function c(t){b(o,n,r,c,u,"next",t)}function u(t){b(o,n,r,c,u,"throw",t)}c(void 0)}))}}var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=v(r.a.mark((function a(n){var i;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e&&n(Object(u.a)(!0)),i=h.f.AUTHOR,!p.a.isEmpty(t)&&(t.limit||t.order_By||t.search)&&(i+=Object(s.a)(t)),a.next=5,c.a.get(i).then((function(t){n({type:o.c.FETCH_AUTHORS,payload:t.data.data}),n(Object(f.a)(t.data.totalRecords)),e&&n(Object(u.a)(!1))})).catch((function(t){var a=t.response;n(Object(l.a)({text:a.data.message,type:o.W.ERROR})),e&&n(Object(u.a)(!1))}));case 5:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=v(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.post(h.f.AUTHOR,t).then((function(t){n({type:o.c.ADD_AUTHOR,payload:t.data.data}),n(Object(l.a)({text:Object(m.g)("authors.success.create.message")})),n(Object(i.a)()),n(g(e))})).catch((function(t){var e=t.response;n(Object(l.a)({text:e.data.message,type:o.W.ERROR}))}));case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},y=function(t,e){return function(){var a=v(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.put(h.f.AUTHOR+"/"+t,e).then((function(t){n({type:o.c.EDIT_AUTHOR,payload:t.data.data}),n(Object(l.a)({text:Object(m.g)("authors.success.edit.message")})),n(Object(i.a)())})).catch((function(t){var e=t.response;n(Object(l.a)({text:e.data.message,type:o.W.ERROR}))}));case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},E=function(t){return function(){var e=v(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.delete(h.f.AUTHOR+"/"+t).then((function(){a({type:o.c.DELETE_AUTHOR,payload:t}),a(Object(l.a)({text:Object(m.g)("authors.success.delete.message")})),a(Object(i.a)())})).catch((function(t){var e=t.response;a(Object(l.a)({text:e.data.message,type:o.W.ERROR}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}]);