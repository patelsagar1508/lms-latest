"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[541],{78541:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ce});var n=r(67294),o=r(10267),a=r(51252),c=r(97975),i=r(56941),u=r(91121),s=r(14416),l=r(45697),f=r.n(l),p=r(44515),d=r(58298),b=r(64178);var h=r(9386),O=r(99716),y=r(41066),j=r(48521);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e){var t=e.onSaveAuthor,r=e.handleSubmit,c=(0,n.createRef)();(0,n.useEffect)((function(){c.current.focus()}),[]);return(0,j.jsxs)(o.Z,{className:"animated fadeIn m-3",children:[(0,j.jsx)(a.Z,{xs:12,children:(0,j.jsx)(p.Z,{name:"first_name",label:"profile.input.first-name.label",required:!0,inputRef:c,groupText:"user-circle-o",component:h.Z})}),(0,j.jsx)(a.Z,{xs:12,children:(0,j.jsx)(p.Z,{name:"last_name",label:"profile.input.last-name.label",groupText:"user",component:h.Z})}),(0,j.jsx)(a.Z,{xs:12,children:(0,j.jsx)(p.Z,{name:"description",label:"authors.input.description.label",component:y.Z})}),(0,j.jsx)(a.Z,{xs:12,children:(0,j.jsx)(O.Z,g({onSave:r((function(e){t(e)}))},e))})]})};w.propTypes={initialValues:f().object,onSaveAuthor:f().func,handleSubmit:f().func};const P=(0,d.Z)({form:"authorForm",validate:function(e){var t={};return e.first_name||(t.first_name=(0,b.PV)("profile.input.first-name.validate.label")),t}})(w);var x=r(74866),A=r(43263),D=r(54848);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){var t=e.addAuthor,r={onSaveAuthor:function(e){t(e,D.x$.OBJ)},onCancel:e.toggleModal};return(0,j.jsx)(x.Z,R(R({},e),{},{content:(0,j.jsx)(P,R({},r))}))};S.propTypes={addAuthor:f().func,toggleModal:f().func};const C=(0,s.$j)(null,{addAuthor:A.rL})(S);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=function(e){var t=e.author,r=e.editAuthor,n={onSaveAuthor:function(e){r(t.id,e)},onCancel:e.toggleModal,initialValues:{first_name:t.first_name,last_name:t.last_name,description:t.description}};return(0,j.jsx)(x.Z,_(_({},e),{},{content:(0,j.jsx)(P,_({},n))}))};M.propTypes={author:f().object,editAuthor:f().func,toggleModal:f().func};const z=(0,s.$j)(null,{editAuthor:A.BO})(M);var U=r(49847);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $=function(e){var t=e.authorId,r=e.deleteAuthor,n=e.toggleModal;return(0,j.jsx)(x.Z,H(H({},e),{},{actions:(0,j.jsx)(U.Z,{onDelete:function(){r(t)},onCancel:n})}))};$.propTypes={authorId:f().number,deleteAuthor:f().func,toggleModal:f().func};const B=(0,s.$j)(null,{deleteAuthor:A.VY})($);var N=r(40887);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K=function(e){var t=e.author,r=e.isCreate,n=e.isEdit,o=e.isDelete,a={author:t},c={authorId:t?t.id:null},i={modalTitle:(0,b.OH)(r,n,o,"authors.input.new-btn.label","authors.modal.edit.title","authors.modal.delete.title"),NewComponent:C,EditComponent:z,DeleteComponent:B,deleteKey:t?t.last_name?t.first_name+" "+t.last_name:t.first_name:null,editConfig:a,delConfig:c,props:e};return(0,j.jsx)(N.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i))};K.propTypes={author:f().object,isCreate:f().bool,isEdit:f().bool,isDelete:f().bool};const F=K;var q=r(97089),Y=r(30475),J=r(70212),Q=r(4838),G=r(44007),X=r(44411);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ae=function(e){var t=e.authors,r=e.toggleModal,n=e.totalRecord,s=e.isLoading,l=e.fetchAuthors,f=ne((0,G.h7)(),5),p=f[0],d=f[1],h=f[2],O=f[3],y=f[4],m={author:O,isCreate:p,isEdit:d,isDelete:h,toggleModal:r},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];y(e,t,n),r()},v=[{name:(0,b.PV)("react-data-table.name.column"),selector:"first_name",sortable:!0,cell:function(e){return(0,j.jsxs)("span",{children:[e.first_name," ",e.last_name]})},minWidth:"400px"},{name:(0,b.PV)("react-data-table.action.column"),selector:"id",right:!0,cell:function(e){return(0,j.jsx)(J.Z,{onOpenModal:g,item:e})},ignoreRowClick:!0,allowOverflow:!0,button:!0}];return(0,j.jsxs)(o.Z,{className:"animated fadeIn",children:[(0,j.jsxs)(a.Z,{sm:12,className:"mb-2",children:[(0,j.jsx)(q.Z,{title:"Authors"}),(0,j.jsx)("h5",{className:"page-heading",children:(0,b.PV)("authors.title")}),(0,j.jsx)(Q.Z,{}),(0,j.jsx)("div",{className:"d-flex justify-content-end",children:(0,j.jsx)(c.Z,{onClick:function(){return g(!1)},size:"md",color:"primary ml-2 text-white",children:(0,b.PV)("authors.input.new-btn.label")})})]}),(0,j.jsx)(a.Z,{sm:12,children:(0,j.jsx)("div",{className:"sticky-table-container",children:(0,j.jsx)(i.Z,{children:(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(Y.Z,{items:t,columns:v,loading:s,emptyStateMessageId:"authors.empty-state.title",emptyNotFoundStateMessageId:"authors.not-found.empty-state.title",totalRows:n,onChange:function(e){l(e,!0)},icon:D.qv.AUTHORS}),(0,j.jsx)(F,te({},m))]})})})})]})};ae.propTypes={authors:f().array,totalRecord:f().number,isLoading:f().bool,fetchAuthors:f().func,toggleModal:f().func};const ce=(0,s.$j)((function(e){return{authors:e.authors,isLoading:e.isLoading,totalRecord:e.totalRecord}}),{fetchAuthors:A.Ui,toggleModal:X.$})(ae)},43263:(e,t,r)=>{r.d(t,{Ui:()=>j,rL:()=>m,BO:()=>g,VY:()=>v});var n=r(64687),o=r.n(n),a=r(65551),c=r(79352),i=r(80677),u=r(76374),s=r(44411),l=r(30193),f=r(35248),p=r(96486),d=r.n(p),b=r(64178),h=r(54848);function O(e,t,r,n,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){O(a,n,o,c,i,"next",e)}function i(e){O(a,n,o,c,i,"throw",e)}c(void 0)}))}}var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var r=y(o().mark((function r(n){var s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t&&n((0,i.K)(!0)),s=h.BC.AUTHOR,!d().isEmpty(e)&&(e.limit||e.order_By||e.search)&&(s+=(0,l.Z)(e)),r.next=5,c.Z.get(s).then((function(e){n({type:a.oz.FETCH_AUTHORS,payload:e.data.data}),n((0,f.Q)(e.data.totalRecords)),t&&n((0,i.K)(!1))})).catch((function(e){var r=e.response;n((0,u.fz)({text:r.data.message,type:a.rW.ERROR})),t&&n((0,i.K)(!1))}));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var r=y(o().mark((function r(n){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.Z.post(h.BC.AUTHOR,e).then((function(e){n({type:a.oz.ADD_AUTHOR,payload:e.data.data}),n((0,u.fz)({text:(0,b.PV)("authors.success.create.message")})),n((0,s.$)()),n(j(t))})).catch((function(e){var t=e.response;n((0,u.fz)({text:t.data.message,type:a.rW.ERROR}))}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},g=function(e,t){return function(){var r=y(o().mark((function r(n){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.Z.put(h.BC.AUTHOR+"/"+e,t).then((function(e){n({type:a.oz.EDIT_AUTHOR,payload:e.data.data}),n((0,u.fz)({text:(0,b.PV)("authors.success.edit.message")})),n((0,s.$)())})).catch((function(e){var t=e.response;n((0,u.fz)({text:t.data.message,type:a.rW.ERROR}))}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},v=function(e){return function(){var t=y(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.delete(h.BC.AUTHOR+"/"+e).then((function(){r({type:a.oz.DELETE_AUTHOR,payload:e}),r((0,u.fz)({text:(0,b.PV)("authors.success.delete.message")})),r((0,s.$)())})).catch((function(e){var t=e.response;r((0,u.fz)({text:t.data.message,type:a.rW.ERROR}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}]);