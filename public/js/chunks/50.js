(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{Zq6T:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("ok1R"),c=n("rhny"),l=n("sOKU"),i=n("BLzl"),u=n("/kxI"),s=n("/MKj"),f=n("17x9"),d=n.n(f),p=n("ndVE"),m=n("nEGo"),g=n("d/v1"),b=n("pJVQ"),v=n("WAKd"),y=n("BfhE"),h=n("fg8b"),E=n("HbAz"),O=n("4r/a");function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],c=!0,l=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var x=function(e){var t=e.initialValues,n=e.onSaveGenre,l=e.handleSubmit,i=w(Object(a.useState)(!(!t||!t.is_featured)),2),u=i[0],s=i[1],f=Object(a.createRef)();Object(a.useEffect)((function(){f.current.focus()}),[]);return r.a.createElement(o.a,{className:"animated fadeIn m-3"},r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"float-right px-3"},r.a.createElement(g.a,{name:"show_on_landing_page",checked:u,label:Object(v.g)("books.toggle.is-featured.label"),onChange:function(){s(!u)},component:O.a}))),r.a.createElement(c.a,{xs:12},r.a.createElement(g.a,{name:"name",label:"genres.input.name.label",required:!0,inputRef:f,groupText:"list-alt",component:y.a})),r.a.createElement(c.a,{xs:12},r.a.createElement(g.a,{name:"description",label:"genres.input.description.label",component:E.a})),r.a.createElement(c.a,{xs:12},r.a.createElement(h.a,j({onSave:l((function(e){n(e)}))},e))))};x.propTypes={initialValues:d.a.object,onSaveGenre:d.a.func,handleSubmit:d.a.func};var G=Object(b.a)({form:"genreForm",validate:function(e){var t={};return e.name||(t.name=Object(v.g)("genres.input.name.validate.label")),t}})(x),S=n("XHFK");function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var N=function(e){var t=e.addGenre,n={onSaveGenre:function(e){t(e,S.b.OBJ)},onCancel:e.toggleModal};return r.a.createElement(p.a,C({},e,{content:r.a.createElement(G,n)}))};N.propTypes={addGenre:d.a.func,toggleModal:d.a.func};var I=Object(s.b)(null,{addGenre:m.a})(N);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var A=function(e){var t=e.genre,n=e.editGenre,a={onSaveGenre:function(e){n(t.id,e)},onCancel:e.toggleModal,initialValues:{name:t.name,description:t.description,is_featured:t.show_on_landing_page}};return r.a.createElement(p.a,M({},e,{content:r.a.createElement(G,a)}))};A.propTypes={genre:d.a.object,editGenre:d.a.func,toggleModal:d.a.func};var D=Object(s.b)(null,{editGenre:m.c})(A),T=n("unre");function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var _=function(e){var t=e.genreId,n=e.deleteGenre,a=e.toggleModal;return r.a.createElement(p.a,k({},e,{actions:r.a.createElement(T.a,{onDelete:function(){n(t)},onCancel:a})}))};_.propTypes={genreId:d.a.number,deleteGenre:d.a.func,toggleModal:d.a.func};var P=Object(s.b)(null,{deleteGenre:m.b})(_),W=n("WOoH"),L=function(e){var t=e.genre,n=e.isCreate,a=e.isEdit,o=e.isDelete,c={genre:t},l={genreId:t?t.id:null},i={modalTitle:Object(v.l)(n,a,o,"genres.input.new-btn.label","genres.modal.edit.title","genres.modal.delete.title"),NewComponent:I,EditComponent:D,DeleteComponent:P,deleteKey:t?t.name:null,editConfig:c,delConfig:l,props:e};return r.a.createElement(W.a,i)};L.propTypes={genre:d.a.object,isCreate:d.a.bool,isEdit:d.a.bool,isDelete:d.a.bool};var H=L,K=n("PY+g"),q=n("tgHS"),z=n("NHeP"),F=n("SR2/"),V=n("leCq"),X=n("gdP5");function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],c=!0,l=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var U=function(e){var t=e.genres,n=e.fetchGenres,a=e.toggleModal,s=e.isLoading,f=e.totalRecord,d=B(Object(V.c)(),5),p=d[0],m=d[1],g=d[2],b=d[3],y=d[4],h={genre:b,isCreate:p,isEdit:m,isDelete:g,toggleModal:a},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];y(e,t,n),a()},O=[{name:Object(v.g)("react-data-table.name.column"),selector:"name",sortable:!0,minWidth:"400px"},{name:Object(v.g)("react-data-table.action.column"),selector:"id",right:!0,cell:function(e){return r.a.createElement(q.a,{onOpenModal:E,item:e})},ignoreRowClick:!0,allowOverflow:!0,button:!0}];return r.a.createElement(o.a,{className:"animated fadeIn"},r.a.createElement(c.a,{sm:12,className:"mb-2"},r.a.createElement(z.a,null),r.a.createElement(K.a,{title:"Genres"}),r.a.createElement("h5",{className:"page-heading"},Object(v.g)("genres.title")),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(l.a,{onClick:function(){return E(!1)},size:"md",color:"primary ml-2 text-white"},Object(v.g)("genres.input.new-btn.label")))),r.a.createElement(c.a,{sm:12},r.a.createElement("div",{className:"sticky-table-container"},r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement(F.a,{items:t,columns:O,loading:s,emptyStateMessageId:"genres.empty-state.title",emptyNotFoundStateMessageId:"genres.not-found.empty-state.title",totalRows:f,onOpenModal:y,onChange:function(e){n(e,!0)},icon:S.o.GENRES}),r.a.createElement(H,h))))))};U.propTypes={genres:d.a.array,totalRecord:d.a.number,isLoading:d.a.bool,fetchGenres:d.a.func,toggleModal:d.a.func};t.default=Object(s.b)((function(e){return{genres:e.genres,isLoading:e.isLoading,totalRecord:e.totalRecord}}),{fetchGenres:m.d,toggleModal:X.a})(U)},nEGo:function(e,t,n){"use strict";n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return O}));var a=n("o0o1"),r=n.n(a),o=n("LWX+"),c=n("q8lI"),l=n("xQOs"),i=n("zzOX"),u=n("gdP5"),s=n("p8CX"),f=n("4txZ"),d=n("LvDl"),p=n.n(d),m=n("WAKd"),g=n("XHFK");function b(e,t,n,a,r,o,c){try{var l=e[o](c),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(a,r)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){b(o,a,r,c,l,"next",e)}function l(e){b(o,a,r,c,l,"throw",e)}c(void 0)}))}}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=v(r.a.mark((function n(a){var u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t&&a(Object(l.a)(!0)),u=g.f.GENRE,!p.a.isEmpty(e)&&(e.limit||e.order_By||e.search)&&(u+=Object(s.a)(e)),n.next=5,c.a.get(u).then((function(e){a({type:o.D.FETCH_GENRES,payload:e.data.data}),a(Object(f.a)(e.data.totalRecords)),t&&a(Object(l.a)(!1))})).catch((function(e){var n=e.response;a(Object(i.a)({text:n.data.message,type:o.W.ERROR})),t&&a(Object(l.a)(!1))}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(e,t){return function(){var n=v(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.post(g.f.GENRE,e).then((function(e){a({type:o.D.ADD_GENRE,payload:e.data.data}),a(Object(i.a)({text:Object(m.g)("genres.success.create.message")})),a(Object(u.a)()),a(y(t))})).catch((function(e){var t=e.response;a(Object(i.a)({text:t.data.message,type:o.W.ERROR}))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(e,t){return function(){var n=v(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.put(g.f.GENRE+"/"+e,t).then((function(e){a({type:o.D.EDIT_GENRE,payload:e.data.data}),a(Object(i.a)({text:Object(m.g)("genres.success.edit.message")})),a(Object(u.a)())})).catch((function(e){var t=e.response;a(Object(i.a)({text:t.data.message,type:o.W.ERROR}))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},O=function(e){return function(){var t=v(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.delete(g.f.GENRE+"/"+e).then((function(){n({type:o.D.DELETE_GENRE,payload:e}),n(Object(i.a)({text:Object(m.g)("genres.success.delete.message")})),n(Object(u.a)())})).catch((function(e){var t=e.response;n(Object(i.a)({text:t.data.message,type:o.W.ERROR}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}]);