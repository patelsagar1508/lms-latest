(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{CKDh:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),c=n("/MKj"),o=n("17x9"),s=n.n(o),u=n("IqYA"),i=n("61R4"),l=n("ndVE"),p=n("WAKd"),f=n("O8kF");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var d=function(e){var t=e.user,n=e.editUser,a={onSaveUser:function(e){n(t.id,Object(i.a)(e))},onCancel:e.toggleModal,initialValues:Object(p.o)(t)};return r.a.createElement(l.a,m({},e,{content:r.a.createElement(u.a,a)}))};d.propTypes={user:s.a.object,editUser:s.a.func,toggleModal:s.a.func},t.a=Object(c.b)(null,{editUser:f.d})(d)},I2lu:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("8cVN"),r=function(){return localStorage.getItem("user")?JSON.parse(atob(localStorage.getItem("user"))):null},c=function(){return localStorage.getItem("member")?JSON.parse(atob(localStorage.getItem("member"))):null},o=function(e){switch(e){case a.d.BOOK_RESERVED:return"reserve-book";case a.d.BOOK_ISSUED:return"issue-book";case a.d.BOOK_RETURNED:return"return-book";default:return"un-reserve-book"}},s=function(e){switch(e){case a.d.BOOK_RESERVED:return"books-circulation.success.reserve.message";case a.d.BOOK_ISSUED:return"books-circulation.success.issue.message";case a.d.BOOK_RETURNED:return"books-circulation.success.return.message";case a.d.BOOK_LOST:return"books-circulation.success.lost.message";case a.d.BOOK_DAMAGED:return"books-circulation.success.damage.message";case a.d.BOOK_UN_RESERVED:return"books-circulation.success.unreserve.message";default:return"books-circulation.success.reserve.message"}}},IqYA:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),c=n("d/v1"),o=n("pJVQ"),s=n("/MKj"),u=n("ok1R"),i=n("rhny"),l=n("17x9"),p=n.n(l),f=(n("hwMP"),n("pWWL")),m=n("LWX+"),d=n("LmdA"),b=n("fg8b"),h=n("BfhE"),E=n("4r/a"),v=n("kJ2u"),O=n("iTU0"),g=n("I2lu"),x=n("LtTL"),y=n("WAKd"),j=n("leCq"),R=n("YF1e"),w=n("Vqjy"),_=n("O8kF");function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var U=function(e){var t=e.initialValues,n=e.change,o=e.roles,s=e.countries,l=e.fetchCountries,p=e.fetchRoles,d=e.onSaveUser,x=e.handleSubmit,R=k(Object(a.useState)(t.is_active),2),w=R[0],_=R[1],T=k(Object(a.useState)(!0),2),U=T[0],I=T[1],C=k(Object(a.useState)(!0),2),A=C[0],L=C[1],D=Object(a.createRef)(),W=k(Object(j.b)(n,t.image_path?t.image_path:null,t.isCreate?f.b.USER_AVATAR:null,!t.image_path),5),K=W[0],P=W[1],N=W[2],q=W[3],V=W[4];Object(a.useEffect)((function(){l(),p(),D.current.focus()}),[]);var X={user:{name:t?t.first_name+" "+t.last_name:null},image:K,isDefaultImage:P,onRemovePhoto:V,onFileChange:q},B=t&&t.id!==Object(g.d)().id||!t;return r.a.createElement(u.a,{className:"animated fadeIn user-form m-3"},r.a.createElement(i.a,{xs:8,className:"primary-detail"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h5",null,Object(y.g)("profile.primary-details")),B?r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",null,r.a.createElement(c.a,{name:"is_active",checked:w,label:Object(y.g)("profile.toggle.is-active.label"),component:E.a,onChange:function(){_(!w)}}))):null),r.a.createElement("hr",{className:B?"user-form__divider--mt-0":"user-form__divider--mt-10"}),r.a.createElement(u.a,null,r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"first_name",label:"profile.input.first-name.label",required:!0,inputRef:D,groupText:"user-circle-o",component:h.a})),r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"last_name",label:"profile.input.last-name.label",required:!0,groupText:"user",component:h.a})),r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"email",label:"profile.input.email.label",autoComplete:t?"off":"new-email",required:!0,groupText:"envelope",component:h.a})),t.isCreate?r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"password",label:"profile.input.password.label",required:!0,autoComplete:t?"off":"new-password",type:U?"password":"text",groupText:"lock",component:h.a,appendGroupText:U?"eye-slash":"eye",isAppendIcon:!0,onClick:function(){I(!U)}})):null,t.isCreate?r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"confirm_password",label:"profile.input.confirm-password.label",required:!0,autoComplete:t?"off":"new-password",type:A?"password":"text",groupText:"lock",component:h.a,appendGroupText:A?"eye-slash":"eye",isAppendIcon:!0,onClick:function(){L(!A)}})):null,r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"phone",type:"number",label:"profile.input.phone.label",onChange:function(e){return Object(y.d)(e,m.G.PHONE_NUMBER)},groupText:"phone",component:h.a})),r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"role",label:"users.select.role.label",required:!0,options:o,placeholder:"users.select.role.placeholder",groupText:"tasks",component:O.a,isSearchable:!0,isMini:!0})))),r.a.createElement(i.a,{xs:4,className:"user-profile"},r.a.createElement("h5",{className:"user-profile__title"},Object(y.g)("profile.user-profile")),r.a.createElement("hr",null),r.a.createElement("div",{className:"mt-5"},r.a.createElement(c.a,{name:"file_name",type:"hidden",component:h.a}),r.a.createElement(v.a,X))),r.a.createElement(i.a,{xs:12,className:"mt-2"},r.a.createElement("h5",null,Object(y.g)("profile.additional-details")),r.a.createElement("hr",null),r.a.createElement(u.a,null,r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"address_1",label:"profile.input.address1.label",groupText:"address-book",component:h.a})),r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"address_2",label:"profile.input.address2.label",groupText:"address-book-o",component:h.a})),r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"city",label:"profile.input.city.label",groupText:"circle",component:h.a})),r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"state",label:"profile.input.state.label",groupText:"square",component:h.a})),r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"country",label:"profile.select.country.label",options:s,placeholder:"profile.select.country.placeholder",groupText:"flag",component:O.a,isSearchable:!0})),r.a.createElement(i.a,{xs:12,sm:6},r.a.createElement(c.a,{name:"zip",type:"number",label:"profile.input.zip.label",groupText:"map-pin",component:h.a})))),r.a.createElement(i.a,{xs:12},r.a.createElement(b.a,S({onSave:x((function(e){e.file=N,d(e)}))},e))))};U.propTypes={initialValues:p.a.object,roles:p.a.array,countries:p.a.array,fetchCountries:p.a.func,fetchRoles:p.a.func,onSaveUser:p.a.func,handleSubmit:p.a.func,change:p.a.func};var I=Object(o.a)({form:"userForm",validate:d.a})(U);t.a=Object(s.b)((function(e){var t=e.roles,n=e.countries;return{roles:Object(x.e)(Object.values(t)),countries:n}}),{editUser:_.d,fetchCountries:w.a,fetchRoles:R.d})(I)},LtTL:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var a=function(e){var t=[];return e.forEach((function(e){return t.push({id:e.id,name:e.display_name})})),t},r=function(e){var t=[];return e.forEach((function(e){return t.push({id:e.id,name:e.language_name})})),t},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",n=[];return e.forEach((function(e){return n.push({value:e.id,label:e[t]})})),n},o=function(e){var t=[];return e.forEach((function(e){return t.push({value:e,label:e})})),t},s=function(e){var t=[];return e.forEach((function(e){t.push({id:e.id,name:e.display_name})})),t}},O8kF:function(e,t,n){"use strict";n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return R}));var a=n("o0o1"),r=n.n(a),c=n("LWX+"),o=n("q8lI"),s=n("VLoV"),u=n("xQOs"),i=n("zzOX"),l=n("gdP5"),p=n("p8CX"),f=n("4txZ"),m=n("jCUz"),d=n("XHFK"),b=n("I2lu"),h=n("WAKd");function E(e,t,n,a,r,c,o){try{var s=e[c](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(a,r)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function o(e){E(c,a,r,o,s,"next",e)}function s(e){E(c,a,r,o,s,"throw",e)}o(void 0)}))}}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=v(r.a.mark((function n(a){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t&&a(Object(u.a)(!0)),s=d.f.USER,(e.limit||e.order_By||e.search)&&(s+=Object(p.a)(e)),n.next=5,o.a.get(s).then((function(e){a({type:c.X.FETCH_USERS,payload:e.data.data}),a(Object(f.a)(e.data.totalRecords)),t&&a(Object(u.a)(!1))})).catch((function(e){var n=e.response;a(Object(i.a)({text:n.data.message,type:c.W.ERROR})),t&&a(Object(u.a)(!1))}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},g=function(e){return function(){var t=v(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(u.a)(!0)),t.next=3,o.a.get(d.f.USER+"/"+e).then((function(e){n({type:c.X.FETCH_USER,payload:e.data.data}),n(Object(u.a)(!1))})).catch((function(e){var t=e.response;n(Object(i.a)({text:t.data.message,type:c.W.ERROR})),n(Object(u.a)(!1))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var n=v(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.post(d.f.USER,e).then((function(e){a({type:c.X.ADD_USER,payload:e.data.data}),a(Object(i.a)({text:Object(h.g)("users.success.create.message")})),a(Object(l.a)()),a(O(t))})).catch((function(e){var t=e.response;a(Object(i.a)({text:t.data.message,type:c.W.ERROR}))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e,t){return function(){var n=v(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.post(d.f.USER+"/"+e,t).then((function(t){a({type:c.X.EDIT_USER,payload:t.data.data}),Object(b.d)().id===e&&a(Object(m.b)(d.c.USER,t.data.data)),a(Object(i.a)({text:Object(h.g)("users.success.edit.message")})),a(Object(l.a)())})).catch((function(e){var t=e.response;a(Object(i.a)({text:t.data.message,type:c.W.ERROR}))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},j=function(e){return function(){var t=v(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.delete(d.f.USER+"/"+e).then((function(){n({type:c.X.DELETE_USER,payload:e}),n(Object(i.a)({text:Object(h.g)("users.success.delete.message")})),n(Object(l.a)())})).catch((function(e){var t=e.response;n(Object(i.a)({text:t.data.message,type:c.W.ERROR}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},R=function(e,t){return function(){var n=v(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.get(d.f.USER+"/"+e+"/update-status").then((function(e){a({type:c.X.SET_ACTIVE_DE_ACTIVE,payload:e.data.data}),a(Object(i.a)({text:Object(h.g)(t?"users.success.inactive-account.message":"users.success.active-account.message")}))})).catch((function(e){var t=e.response;a(Object(i.a)({text:t.data.message,type:c.W.ERROR}))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},YF1e:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return E}));var a=n("o0o1"),r=n.n(a),c=n("LWX+"),o=n("q8lI"),s=n("xQOs"),u=n("zzOX"),i=n("gdP5"),l=n("WAKd"),p=n("XHFK");function f(e,t,n,a,r,c,o){try{var s=e[c](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(a,r)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function o(e){f(c,a,r,o,s,"next",e)}function s(e){f(c,a,r,o,s,"throw",e)}o(void 0)}))}}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=m(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&n(Object(s.a)(!0)),t.next=3,o.a.get(p.f.ROLE).then((function(t){n({type:c.P.FETCH_ROLES,payload:t.data.data}),e&&n(Object(s.a)(!1))})).catch((function(t){var a=t.response;n(Object(u.a)({text:a.data.message,type:c.W.ERROR})),e&&n(Object(s.a)(!1))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=m(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post(p.f.ROLE,e).then((function(e){n({type:c.P.ADD_ROLE,payload:e.data.data}),n(Object(u.a)({text:Object(l.g)("roles.success.create.message")})),n(Object(i.a)())})).catch((function(e){var t=e.response;n(Object(u.a)({text:t.data.message,type:c.W.ERROR}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e,t){return function(){var n=m(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.put(p.f.ROLE+"/"+e,t).then((function(e){a({type:c.P.EDIT_ROLE,payload:e.data.data}),a(Object(u.a)({text:Object(l.g)("roles.success.edit.message")})),a(Object(i.a)())})).catch((function(e){var t=e.response;a(Object(u.a)({text:t.data.message,type:c.W.ERROR}))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(e){return function(){var t=m(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.delete(p.f.ROLE+"/"+e).then((function(){n({type:c.P.DELETE_ROLE,payload:e}),n(Object(u.a)({text:Object(l.g)("roles.success.delete.message")})),n(Object(i.a)())})).catch((function(e){var t=e.response;n(Object(u.a)({text:t.data.message,type:c.W.ERROR}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},hwMP:function(e,t,n){var a=n("mR6P");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},mR6P:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".user-modal {\n  max-width: 1000px;\n}\n\n.user-table-row {\n  cursor: pointer;\n}\n.user-table-row__profile {\n  width: 90px;\n}\n.user-table-row__profile-img {\n  width: 30px;\n  height: 30px;\n  -o-object-fit: cover;\n     object-fit: cover;\n  border-radius: 50%;\n}\n.user-table-row__switch {\n  width: 90px;\n}\n\n.user-form {\n  display: flex;\n}\n.user-form__divider--mt-0 {\n  margin-top: 0;\n}\n.user-form__divider--mt-10 {\n  margin-top: 10px;\n}\n.user-form__switch {\n  position: relative;\n  height: 26px;\n}\n\n.user-profile__title {\n  margin-bottom: 18px;\n}\n\n@media only screen and (max-width: 700px) {\n  .user-form {\n    flex-direction: column;\n  }\n\n  .user-profile {\n    flex: 100%;\n    max-width: 100%;\n    width: 100%;\n  }\n\n  .primary-detail {\n    margin-top: 30px;\n    flex: 100%;\n    max-width: 100%;\n    width: 100%;\n  }\n}",""])}}]);