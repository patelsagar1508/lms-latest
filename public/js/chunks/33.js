(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"5XAh":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"@media (min-width: 1280px) {\n  .dashboard__card-wrapper {\n    flex: 1;\n    max-width: 100%;\n  }\n}\n.dashboard__card-body:hover {\n  cursor: pointer;\n}\n.dashboard__card-count {\n  font-size: 22px;\n  font-weight: 600;\n}\n.dashboard__card-title {\n  margin-top: 18px;\n  font-size: 17px;\n  font-weight: 600;\n}\n.dashboard__card-icon {\n  float: right;\n  margin-top: -40px;\n  opacity: 0.7;\n}\n@media (max-width: 320px) {\n  .dashboard__card-icon {\n    margin-top: -25px !important;\n  }\n}\n\n.chart-wrapper-empty-component {\n  width: 100%;\n}\n\n.chart-wrapper-content {\n  height: 400px !important;\n  width: 400px !important;\n  margin: auto !important;\n  align-items: center !important;\n}\n@media (max-width: 1060px) {\n  .chart-wrapper-content {\n    height: 300px !important;\n    width: 300px !important;\n  }\n}\n@media (max-width: 856px) and (min-width: 768px) {\n  .chart-wrapper-content {\n    height: 250px !important;\n    width: 250px !important;\n  }\n}\n\nhtml[dir=rtl] .dashboard__card-icon {\n  float: left;\n}\n\n.card-header {\n  background-color: #f0f3f5;\n  color: #2d3236;\n}",""])},I2lu:function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return c})),a.d(e,"b",(function(){return s}));var n=a("8cVN"),r=function(){return localStorage.getItem("user")?JSON.parse(atob(localStorage.getItem("user"))):null},o=function(){return localStorage.getItem("member")?JSON.parse(atob(localStorage.getItem("member"))):null},c=function(t){switch(t){case n.d.BOOK_RESERVED:return"reserve-book";case n.d.BOOK_ISSUED:return"issue-book";case n.d.BOOK_RETURNED:return"return-book";default:return"un-reserve-book"}},s=function(t){switch(t){case n.d.BOOK_RESERVED:return"books-circulation.success.reserve.message";case n.d.BOOK_ISSUED:return"books-circulation.success.issue.message";case n.d.BOOK_RETURNED:return"books-circulation.success.return.message";case n.d.BOOK_LOST:return"books-circulation.success.lost.message";case n.d.BOOK_DAMAGED:return"books-circulation.success.damage.message";case n.d.BOOK_UN_RESERVED:return"books-circulation.success.unreserve.message";default:return"books-circulation.success.reserve.message"}}},IjZk:function(t,e,a){var n=a("fXE6");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(t.exports=n.locals)},QLHt:function(t,e,a){var n=a("5XAh");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(t.exports=n.locals)},fXE6:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"@media (min-width: 701px) {\n  .charts__chart-section {\n    display: flex;\n  }\n}\n@media (max-width: 700px) {\n  .charts__chart-section {\n    -moz-column-count: unset !important;\n         column-count: unset !important;\n    -webkit-column-count: unset !important;\n  }\n}\n.charts__child-popover .popover {\n  min-width: 700px;\n}\n.charts .custom-input-search {\n  cursor: pointer;\n}\n\n.list-group {\n  cursor: pointer;\n}\n\n.bg-dark {\n  background-color: #8395fb !important;\n  border-color: #8395fb !important;\n}",""])},gOPr:function(t,e,a){"use strict";a.d(e,"g",(function(){return g})),a.d(e,"f",(function(){return v})),a.d(e,"a",(function(){return E})),a.d(e,"c",(function(){return y})),a.d(e,"d",(function(){return k})),a.d(e,"b",(function(){return T})),a.d(e,"h",(function(){return w})),a.d(e,"e",(function(){return x}));var n=a("o0o1"),r=a.n(n),o=a("LWX+"),c=a("q8lI"),s=a("xQOs"),i=a("zzOX"),u=a("gdP5"),l=a("p8CX"),d=a("4txZ"),f=a("I2lu"),m=a("LvDl"),b=a.n(m),p=a("WAKd"),h=a("XHFK");function O(t,e,a,n,r,o,c){try{var s=t[o](c),i=s.value}catch(t){return void a(t)}s.done?e(i):Promise.resolve(i).then(n,r)}function _(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function c(t){O(o,n,r,c,s,"next",t)}function s(t){O(o,n,r,c,s,"throw",t)}c(void 0)}))}}var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return function(){var a=_(r.a.mark((function a(n){var u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Object(s.a)(!0)),u=h.f.BOOK_HISTORY,!b.a.isEmpty(t)&&(t.limit||t.order_By||t.search)&&(u+=Object(l.a)(t)),a.next=5,c.a.get(u).then((function(t){n({type:o.g.FETCH_BOOKS_CIRCULATION,payload:t.data.data}),n(Object(d.a)(t.data.totalRecords)),n(Object(s.a)(!1)),e({status:t.data.success})})).catch((function(t){var e=t.response;n(Object(i.a)({text:e.data.message,type:o.W.ERROR})),n(Object(s.a)(!1))}));case 5:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},v=function(t){return function(){var e=_(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Object(s.a)(!0)),e.next=3,c.a.get(h.f.ISSUED_BOOK+"/"+t).then((function(t){a({type:o.g.FETCH_BOOK_CIRCULATION,payload:t.data.data}),a(Object(s.a)(!1))})).catch((function(t){var e=t.response;a(Object(i.a)({text:e.data.message,type:o.W.ERROR})),a(Object(s.a)(!1))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=_(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.post("".concat(h.f.BOOK,"/").concat(t.book_item_id,"/").concat(Object(f.a)(t.status)),t).then((function(){n(g(e,(function(){}))),n(Object(i.a)({text:Object(p.g)(Object(f.b)(t.status))})),n(Object(u.a)())})).catch((function(t){var e=t.response;n(Object(i.a)({text:e.data.message,type:o.W.ERROR}))}));case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=_(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.post("".concat(h.f.BOOK,"/").concat(t.book_item_id,"/").concat(Object(f.a)(t.status)),t).then((function(){n(g(e,(function(){}))),n(Object(i.a)({text:Object(p.g)(Object(f.b)(t.status))})),n(Object(u.a)())})).catch((function(t){var e=t.response;n(Object(i.a)({text:e.data.message,type:o.W.ERROR}))}));case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=_(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.put("".concat(h.f.BOOK,"/").concat(t.book_item_id,"/update-issued-book-status"),{status:t.status}).then((function(){n(g(e,(function(){}))),n(Object(i.a)({text:Object(p.g)(Object(f.b)(t.status))})),n(Object(u.a)())})).catch((function(t){var e=t.response;n(Object(i.a)({text:e.data.message,type:o.W.ERROR}))}));case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=_(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.delete(h.f.BOOK_HISTORY+"/"+t).then((function(a){n(g(e,(function(){}))),n({type:o.g.DELETE_BOOK_CIRCULATION,payload:t}),n(Object(i.a)({text:a.data.message})),n(Object(u.a)())})).catch((function(t){var e=t.response;n(Object(i.a)({text:e.data.message,type:o.W.ERROR}))}));case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},w=function(t,e){return function(){var a=_(r.a.mark((function a(n){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.post("book-history/".concat(t,"/send-book-due-mail"),null).then((function(t){n(Object(i.a)({text:Object(p.g)("books-circulation.success.reminder.message")})),e({})})).catch((function(t){var a=t.response;n(Object(i.a)({text:a.data.message,type:o.W.ERROR})),e({})}));case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var n=_(r.a.mark((function n(u){var d;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a&&u(Object(s.a)(!0)),d=h.f.EXPORT_BOOKS_CIRCULATION,!b.a.isEmpty(t)&&(t.limit||t.order_By||t.search)&&(d+=Object(l.a)(t)),n.next=5,c.a.get(d).then((function(t){u({type:o.g.EXCEL_FILE_CIRCULATION,payload:t.data.data}),u(Object(i.a)({text:t.data.message})),a&&u(Object(s.a)(!1)),e({url:t.data.data})})).catch((function(t){var e=t.response;u(Object(i.a)({text:e.data.message,type:o.W.ERROR})),a&&u(Object(s.a)(!1))}));case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}},jglu:function(t,e,a){"use strict";a.r(e);var n=a("q1tI"),r=a.n(n),o=a("rhny"),c=a("BLzl"),s=a("/kxI"),i=a("ok1R"),u=a("/MKj"),l=a("LvDl"),d=a.n(l),f=a("17x9"),m=a.n(f),b=(a("QLHt"),a("qTYR")),p=(a("d/v1"),a("pJVQ")),h=(a("iqOp"),a("glTy"),a("YGfb"),a("K7vz"),a("ujA5"),a("sOKU"),a("hm0q")),O=a("afej"),_=a("wd/R"),g=a.n(_),v=(a("IjZk"),a("H++W")),E=["#8395fb","#7fd81e","#00C6FF","#f6c223","#e55353"],y=function(t){return[t.total_books,t.total_members,t.total_issued_books,t.total_reserved_books,t.total_overdue_books]},k=function(t,e){return{labels:e,datasets:[{label:"LMS",backgroundColor:E,borderColor:E,borderWidth:1,hoverBackgroundColor:E,hoverBorderColor:E,data:y(t),fill:!1}]}},T=function(t,e,a){var n=t.dates,r=t.books,o=t.issued_books,c=t.reserved_books,s=t.overdue_books,i=t.members,u=[r[e],i[e],o[e],c[e],s[e]];return r[a]&&(u=[r[e].concat(r[a]),r[e].concat(r[a]),r[e].concat(r[a]),r[e].concat(r[a]),r[e].concat(r[a])]),{data:u,dates:n}},w=function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[],o=T(t,a,n),c=o.data,s=o.dates;return e.forEach((function(t,e){r.push({label:t,backgroundColor:E[e],borderColor:E[e],borderWidth:1,hoverBackgroundColor:E[e],hoverBorderColor:E[e],data:c[e],fill:!1})})),{labels:s,datasets:r}},x=(v.CustomTooltips,a("ltTo")),S=(a("a8l/"),a("oncU"),a("XHFK")),j=a("LWX+"),A=a("WAKd");function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var n,r,o=[],c=!0,s=!1;try{for(a=a.call(t);!(c=(n=a.next()).done)&&(o.push(n.value),!e||o.length!==e);c=!0);}catch(t){s=!0,r=t}finally{try{c||null==a.return||a.return()}finally{if(s)throw r}}return o}(t,e)||C(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){if(t){if("string"==typeof t)return D(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?D(t,e):void 0}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var B=function(t){var e=t.general,a=(t.onMonthSelector,t.setTypeOfData,t.chartData,t.change,t.initialize),u=(t.selectedMinDate,t.setSelectedMinDate,t.selectedMaxDate,t.setSelectedMaxDate,R(Object(n.useState)(!1),2)),l=(u[0],u[1],R(Object(n.useState)(!1),2)),d=(l[0],l[1],Object(A.i)(j.x).map((function(t){return t.name})));if(Object(n.useEffect)((function(){a({date_selector:g()().format(S.k.CHART_DATE)+"-"+g()().format(S.k.CHART_DATE)})}),[]),!e)return null;var f=function(t,e){var a={labels:e.slice(2,5)};return a.datasets=[{data:y(t).slice(2,5),backgroundColor:E.slice(2,5),hoverBackgroundColor:E.slice(2,5)}],a}(e,d),m=function(t){var e={labels:t.genres_with_books[0]};return e.datasets=[{data:t.genres_with_books[1],backgroundColor:t.genres_with_books[2],hoverBackgroundColor:t.genres_with_books[3]}],e}(e),p=function(t){return t[0].data.reduce((function(t,e){return t+e}),0)};return r.a.createElement("div",{className:"charts"},r.a.createElement(i.a,null,r.a.createElement(o.a,null,r.a.createElement("div",{className:"animated fadeIn"},r.a.createElement(h.a,{className:"cols-2 charts__chart-section"},r.a.createElement(c.a,null,r.a.createElement(O.a,null,Object(A.g)("dashboard.chart.circulation-report.title")),r.a.createElement(s.a,{className:"pb-4"},p(f.datasets)?r.a.createElement(b.a,{data:f,options:{tooltips:{callbacks:{label:function(t,e){var a=e.datasets[t.datasetIndex].data[t.index];return" "+e.labels[t.index]+" : "+a}}}},className:"chart-wrapper-content"}):r.a.createElement("div",{className:"chart-wrapper-empty-component"},r.a.createElement(x.a,{isShort:!0,title:Object(A.g)("dashboard.chart.empty-message.label"),icon:S.o.BOOK_CIRCULATION})))),r.a.createElement(c.a,null,r.a.createElement(O.a,null,Object(A.g)("dashboard.chart.book&member-report.title")),r.a.createElement(s.a,{className:"pb-4"},r.a.createElement("div",{className:"chart-wrapper-content"},p(m.datasets)?r.a.createElement(b.b,{data:m,options:{legend:{display:!1},tooltips:{callbacks:{label:function(t,e){var a=e.datasets[t.datasetIndex].data[t.index];return" "+e.labels[t.index]+" : "+a}}}}}):r.a.createElement("div",{className:"chart-wrapper-empty-component"},r.a.createElement(x.a,{isShort:!0,title:Object(A.g)("dashboard.chart.empty-message.label"),icon:S.o.BOOK}))))))))))};B.propTypes={dashBoard:m.a.object,general:m.a.object,chartData:m.a.object,setSelectedMinDate:m.a.func,setSelectedMaxDate:m.a.func,setTypeOfData:m.a.func,onMonthSelector:m.a.func,change:m.a.func,initialize:m.a.func};var I=Object(p.a)({form:"chart"})(B),N=a("PY+g"),H=a("NHeP"),M=a("o0o1"),L=a.n(M),K=a("q8lI"),U=a("xQOs"),W=a("zzOX");function F(t,e,a,n,r,o,c){try{var s=t[o](c),i=s.value}catch(t){return void a(t)}s.done?e(i):Promise.resolve(i).then(n,r)}function X(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function c(t){F(o,n,r,c,s,"next",t)}function s(t){F(o,n,r,c,s,"throw",t)}c(void 0)}))}}var Y=function(t,e,a){switch(t){case j.w.TODAY:return e({type:j.B.FETCH_DASHBOARD_DETAILS_BY_TODAY,payload:a});case j.w.THIS_WEEK:return e({type:j.B.FETCH_DASHBOARD_DETAILS_BY_CURRENT_WEEK,payload:a});case j.w.LAST_WEEK:return e({type:j.B.FETCH_DASHBOARD_DETAILS_BY_LAST_WEEK,payload:a});case j.w.THIS_MONTH:return e({type:j.B.FETCH_DASHBOARD_DETAILS_BY_CURRENT_MONTH,payload:a});case j.w.LAST_MONTH:return e({type:j.B.FETCH_DASHBOARD_DETAILS_BY_LAST_MONTH,payload:a});case j.w.CUSTOM:return e({type:j.B.FETCH_DASHBOARD_DETAILS_BETWEEN_MONTHS,payload:a});default:return e({type:j.B.FETCH_DASHBOARD_DETAILS,payload:a})}},z=a("SR2/"),P=a("Obmr"),J=a("gOPr");function q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var n,r,o=[],c=!0,s=!1;try{for(a=a.call(t);!(c=(n=a.next()).done)&&(o.push(n.value),!e||o.length!==e);c=!0);}catch(t){s=!0,r=t}finally{try{c||null==a.return||a.return()}finally{if(s)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Q(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Q(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var V=function(t){var e=t.fetchDashBoardDetails,a=t.dashBoard,u=t.isLoading,l=t.totalRecord,f=t.fetchBooksCirculation,m=t.booksCirculation,b=q(Object(n.useState)("general"),2),p=b[0],h=b[1],O=q(Object(n.useState)(g()().startOf("month").toDate()),2),_=O[0],v=O[1],E=q(Object(n.useState)(g()().endOf("month").toDate()),2),y=E[0],T=E[1],x=Object(A.i)(j.x).map((function(t){return t.name})),R=q(Object(n.useState)(""),2),C=R[0],D=R[1],B=q(Object(n.useState)(""),2),M=B[0],L=B[1],K=q(Object(n.useState)(!1),2),U=K[0],W=K[1];if(Object(n.useEffect)((function(){e()}),[]),d.a.isEmpty(a)||!a.general)return r.a.createElement(H.a,null);var F=a.general,X=function(t,e){var a=t.total_books,n=t.total_members,r=t.total_issued_books,o=t.total_reserved_books,c=t.total_overdue_books;return[{title:e[0],color:"bg-dark",count:a,icon:"fa fa-book fa-4x"},{title:e[1],color:"bg-success",count:n,icon:"fas fa-users fa-4x"},{title:e[2],color:"bg-primary",count:r,icon:"fas fa-book-reader fa-4x"},{title:e[3],color:"bg-warning",count:o,icon:"fas fa-book-reader fa-4x"},{type:"bar",title:e[4],color:"bg-danger",count:c,icon:"fas fa-book-reader fa-4x"}]}(F,x),Y={general:F,chartData:function(t,e){var a=g()().format(S.k.CHART_CUSTOM_DATE),n=g()().add(1,"week").format(S.k.CHART_CUSTOM_DATE),r=g()().subtract(1,"week").format(S.k.CHART_CUSTOM_DATE),o=g()().startOf("month").format(S.k.CHART_CUSTOM_DATE),c=g()().endOf("month").format(S.k.CHART_CUSTOM_DATE),s=g()().subtract(1,"months").startOf("month").format(S.k.CHART_CUSTOM_DATE),i=g()().subtract(1,"months").endOf("month").format(S.k.CHART_CUSTOM_DATE),u=g()(_).format(S.k.CHART_CUSTOM_DATE),l=g()(y).format(S.k.CHART_CUSTOM_DATE),d=t.general,f=t.today,m=t.currentWeek,b=t.lastWeek,p=t.currentMonth,h=t.lastMonth,O=t.interMonth;return e===j.w.TODAY&&f?k(f,x):e===j.w.THIS_WEEK&&m?w(m,x,a,n):e===j.w.LAST_WEEK&&b?w(b,x,r,a):e===j.w.THIS_MONTH&&p?w(p,x,o,c):e===j.w.LAST_MONTH&&h?w(h,x,s,i):e===j.w.CUSTOM&&O?w(O,x,u,l):k(d,x)}(a,p),onMonthSelector:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(t)},setTypeOfData:h,selectedMinDate:_,setSelectedMinDate:v,selectedMaxDate:y,setSelectedMaxDate:T},J=[{name:Object(A.g)("books-circulation.select.book.label"),selector:"name",sortable:!0,wrap:!0,cell:function(t){return t.name=t.book_item.book.name}},{name:Object(A.g)("books-circulation.select.book-item.label"),selector:"book_code",width:"140px",sortable:!0,cell:function(t){return t.book_code=t.book_item.book_code}},{name:Object(A.g)("books-circulation.select.member.label"),selector:"member_name",width:"140px",sortable:!0,cell:function(t){return r.a.createElement("span",null,t.member.first_name+" "+t.member.last_name)}},{name:Object(A.g)("books-circulation.table.issue-date.column"),selector:"issued_on",width:"160px",sortable:!0,cell:function(t){return r.a.createElement("span",null,t.issued_on?Object(A.c)(t.issued_on):"N/A")}},{name:Object(A.g)("books-circulation.table.return-date.column"),selector:"return_due_date",width:"160px",sortable:!0,cell:function(t){return r.a.createElement("span",null,t.return_due_date?Object(A.c)(t.return_due_date):"N/A"," ")}}];return r.a.createElement("div",{className:"animated fadeIn"},r.a.createElement(i.a,null,r.a.createElement(o.a,{sm:12,className:"mb-2"},u?r.a.createElement(H.a,null):null,r.a.createElement(N.a,{title:"Dashboard"}),r.a.createElement("h5",{className:"page-heading"},Object(A.g)("dashboard.title"))),X.map((function(t,e){return r.a.createElement(o.a,{key:e,className:"dashboard__card-wrapper col-12 col-sm-6 col-lg-3"},r.a.createElement(c.a,{className:"text-white mb-4 ".concat(t.color)},r.a.createElement(s.a,{onClick:function(){return function(t,e){if(1===e)return window.location.href=P.a.URL+"/#"+S.d.MEMBERS;if(0===e)return window.location.href=P.a.URL+"/#"+S.d.BOOKS;if(t.count>0){L(t.title),W(!0);var a={order_By:S.b.OBJ.order_By,limit:S.b.OBJ.limit,skip:0,direction:S.b.OBJ.direction,search:4===e?"overdue":3===e?"reserved":2===e?"issued":null};D(a.search),f(a,(function(t){t.status&&window.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"})}))}}(t,e)},className:"".concat(t.count>0?"dashboard__card-body":null)},r.a.createElement("div",{className:"dashboard__card-count"},t.count),r.a.createElement("div",{className:"dashboard__card-icon"},r.a.createElement("i",{className:t.icon})),r.a.createElement("div",{className:"dashboard__card-title text-nowrap"},t.title))))}))),r.a.createElement(I,Y),U?r.a.createElement(i.a,null,r.a.createElement(o.a,{sm:12},r.a.createElement("h5",{className:"page-heading"},M)),r.a.createElement(o.a,{sm:12},r.a.createElement("div",{className:"sticky-table-container"},r.a.createElement(c.a,null,r.a.createElement(s.a,null,r.a.createElement(z.a,{items:m,emptyStateMessageId:"dashboard.empty-state.title",emptyNotFoundStateMessageId:"dashboard.not-found.empty-state.title",filterKeyName:j.T.BOOK_CIRCULATION,columns:J,loading:u,totalRows:l,onChange:function(t){t.search||(t.search=C),f(t,(function(){window.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"})}))},icon:S.o.BOOK_CIRCULATION})))))):null)};V.propTypes={dashBoard:m.a.object,isLoading:m.a.bool,fetchDashBoardDetails:m.a.func,booksCirculation:m.a.array,totalRecord:m.a.number,fetchBooksCirculation:m.a.func};e.default=Object(u.b)((function(t){return{booksCirculation:t.booksCirculation,dashBoard:t.dashBoard,isLoading:t.isLoading,totalRecord:t.totalRecord}}),{fetchBooksCirculation:J.g,fetchDashBoardDetails:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var e=X(L.a.mark((function e(a){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Object(U.a)(!0)),e.next=3,K.a.get(S.f.DASHBOARD_DETAILS,{params:t.params}).then((function(e){Y(t.type,a,e.data.data),a(Object(U.a)(!1))})).catch((function(t){var e=t.response;a(Object(W.a)({text:e.data.message,type:j.W.ERROR})),a(Object(U.a)(!1))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(V)}}]);