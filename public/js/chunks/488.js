"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[488],{25789:(e,t,n)=>{n.d(t,{Z:()=>g});n(67294);var r=n(14416),o=n(45697),a=n.n(o),c=n(74866),i=n(89475),l=n(66761),u=n(54848),s=n(48521);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t=e.addGenre,n={onSaveGenre:function(e){t(e,u.x$.OBJ)},onCancel:e.toggleModal};return(0,s.jsx)(c.Z,p(p({},e),{},{content:(0,s.jsx)(l.Z,p({},n))}))};b.propTypes={addGenre:a().func,toggleModal:a().func};const g=(0,r.$j)(null,{addGenre:i._N})(b)},39540:(e,t,n)=>{n.d(t,{Z:()=>g});n(67294);var r=n(14416),o=n(45697),a=n.n(o),c=n(74866),i=n(49847),l=n(89475),u=n(54848),s=n(48521);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t=e.genreId,n=e.deleteGenre,r=e.toggleModal,o=e.totalRecord;return(0,s.jsx)(c.Z,p(p({},e),{},{actions:(0,s.jsx)(i.Z,{onDelete:function(){n(t,u.x$.OBJ,o)},onCancel:r})}))};b.propTypes={genreId:a().number,deleteGenre:a().func,toggleModal:a().func};const g=(0,r.$j)(null,{deleteGenre:l.LM})(b)},11691:(e,t,n)=>{n.d(t,{Z:()=>b});n(67294);var r=n(14416),o=n(45697),a=n.n(o),c=n(66761),i=n(74866),l=n(89475),u=n(48521);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=e.genre,n=e.editGenre,r={onSaveGenre:function(e){n(t.id,e)},onCancel:e.toggleModal,initialValues:{name:t.name,description:t.description,is_featured:t.show_on_landing_page}};return(0,u.jsx)(i.Z,f(f({},e),{},{content:(0,u.jsx)(c.Z,f({},r))}))};d.propTypes={genre:a().object,editGenre:a().func,toggleModal:a().func};const b=(0,r.$j)(null,{editGenre:l.nI})(d)},66761:(e,t,n)=>{n.d(t,{Z:()=>P});var r=n(67294),o=n(10267),a=n(51252),c=n(44515),i=n(58298),l=n(45697),u=n.n(l),s=n(50464),f=n(9386),p=n(99716),d=n(41066),b=n(40923),g=n(64178),y=n(48521);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t=e.initialValues,n=e.onSaveGenre,i=e.handleSubmit,l=v((0,r.useState)(!(!t||!t.is_featured)),2),u=l[0],s=l[1],O=(0,r.createRef)();(0,r.useEffect)((function(){O.current.focus()}),[]);return(0,y.jsxs)(o.Z,{className:"animated fadeIn m-3",children:[(0,y.jsx)("div",{className:"w-100",children:(0,y.jsx)("div",{className:"float-right px-3",children:(0,y.jsx)(c.Z,{name:"show_on_landing_page",checked:u,label:(0,g.PV)("books.toggle.is-featured.label"),onChange:function(){s(!u)},component:b.Z})})}),(0,y.jsx)(a.Z,{xs:12,children:(0,y.jsx)(c.Z,{name:"name",label:"genres.input.name.label",required:!0,inputRef:O,groupText:"list-alt",component:f.Z})}),(0,y.jsx)(a.Z,{xs:12,children:(0,y.jsx)(c.Z,{name:"description",label:"genres.input.description.label",component:d.Z})}),(0,y.jsx)(a.Z,{xs:12,children:(0,y.jsx)(p.Z,j({onSave:i((function(e){n(e)}))},e))})]})};w.propTypes={initialValues:u().object,onSaveGenre:u().func,handleSubmit:u().func};const P=(0,i.Z)({form:"genreForm",validate:s.Z})(w)},75488:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});n(67294);var r=n(10267),o=n(51252),a=n(97975),c=n(56941),i=n(91121),l=n(14416),u=n(45697),s=n.n(u),f=n(25789),p=n(11691),d=n(39540),b=n(40887),g=n(64178),y=n(48521);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t=e.genre,n=e.isCreate,r=e.isEdit,o=e.isDelete,a=e.totalRecord,c={genre:t},i={genreId:t?t.id:null,totalRecord:a},l={modalTitle:(0,g.OH)(n,r,o,"genres.input.new-btn.label","genres.modal.edit.title","genres.modal.delete.title"),NewComponent:f.Z,EditComponent:p.Z,DeleteComponent:d.Z,deleteKey:t?t.name:null,editConfig:c,delConfig:i,props:e};return(0,y.jsx)(b.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l))};m.propTypes={genre:s().object,isCreate:s().bool,isEdit:s().bool,isDelete:s().bool};const v=m;var h=n(97089),w=n(70212),P=n(4838),x=n(30475),E=n(44007),Z=n(89475),R=n(44411),S=n(54848);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e){var t=e.genres,n=e.fetchGenres,l=e.toggleModal,u=e.isLoading,s=e.totalRecord,f=k((0,E.h7)(),5),p=f[0],d=f[1],b=f[2],O=f[3],j=f[4],m={genre:O,isCreate:p,isEdit:d,isDelete:b,toggleModal:l,totalRecord:s},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];j(e,t,n),l()},R=[{name:(0,g.PV)("react-data-table.name.column"),selector:"name",sortable:!0,minWidth:"400px"},{name:(0,g.PV)("react-data-table.action.column"),selector:"id",right:!0,cell:function(e){return(0,y.jsx)(w.Z,{onOpenModal:Z,item:e})},ignoreRowClick:!0,allowOverflow:!0,button:!0}];return(0,y.jsxs)(r.Z,{className:"animated fadeIn",children:[(0,y.jsxs)(o.Z,{sm:12,className:"mb-2",children:[(0,y.jsx)(P.Z,{}),(0,y.jsx)(h.Z,{title:"Genres"}),(0,y.jsx)("h5",{className:"page-heading",children:(0,g.PV)("genres.title")}),(0,y.jsx)("div",{className:"d-flex justify-content-end",children:(0,y.jsx)(a.Z,{onClick:function(){return Z(!1)},size:"md",color:"primary ml-2 text-white",children:(0,g.PV)("genres.input.new-btn.label")})})]}),(0,y.jsx)(o.Z,{sm:12,children:(0,y.jsx)("div",{className:"sticky-table-container",children:(0,y.jsx)(c.Z,{children:(0,y.jsxs)(i.Z,{children:[(0,y.jsx)(x.Z,{items:t,columns:R,loading:u,emptyStateMessageId:"genres.empty-state.title",emptyNotFoundStateMessageId:"genres.not-found.empty-state.title",totalRows:s,onOpenModal:j,onChange:function(e){n(e,S.x$.OBJ,!0)},icon:S.qv.GENRES}),(0,y.jsx)(v,G({},m))]})})})})]})};M.propTypes={genres:s().array,totalRecord:s().number,isLoading:s().bool,fetchGenres:s().func,toggleModal:s().func};const I=(0,l.$j)((function(e){return{genres:e.genres,isLoading:e.isLoading,totalRecord:e.totalRecord}}),{fetchGenres:Z.BQ,toggleModal:R.$})(M)},50464:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(64178);const o=function(e){var t={};return e.name||(t.name=(0,r.PV)("genres.input.name.validate.label")),t}},89475:(e,t,n)=>{n.d(t,{BQ:()=>j,_N:()=>m,nI:()=>v,LM:()=>h});var r=n(64687),o=n.n(r),a=n(65551),c=n(79352),i=n(80677),l=n(76374),u=n(44411),s=n(30193),f=n(35248),p=n(96486),d=n.n(p),b=n(64178),g=n(54848);function y(e,t,n,r,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){y(a,r,o,c,i,"next",e)}function i(e){y(a,r,o,c,i,"throw",e)}c(void 0)}))}}var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=O(o().mark((function n(r){var u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t&&r((0,i.K)(!0)),u=g.BC.GENRE,!d().isEmpty(e)&&(e.limit||e.order_By||e.search)&&(u+=(0,s.Z)(e)),n.next=5,c.Z.get(u).then((function(e){r({type:a.kn.FETCH_GENRES,payload:e.data.data}),r((0,f.Q)(e.data.totalRecords)),t&&r((0,i.K)(!1))})).catch((function(e){var n=e.response;r((0,l.fz)({text:n.data.message,type:a.rW.ERROR})),t&&r((0,i.K)(!1))}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},m=function(e,t){return function(){var n=O(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.post(g.BC.GENRE,e).then((function(e){r({type:a.kn.ADD_GENRE,payload:e.data.data}),r((0,l.fz)({text:(0,b.PV)("genres.success.create.message")})),r((0,u.$)()),r(j(t))})).catch((function(e){var t=e.response;r((0,l.fz)({text:t.data.message,type:a.rW.ERROR}))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(e,t){return function(){var n=O(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.put(g.BC.GENRE+"/"+e,t).then((function(e){r({type:a.kn.EDIT_GENRE,payload:e.data.data}),r((0,l.fz)({text:(0,b.PV)("genres.success.edit.message")})),r((0,u.$)())})).catch((function(e){var t=e.response;r((0,l.fz)({text:t.data.message,type:a.rW.ERROR}))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(e){var t=arguments.length>2?arguments[2]:void 0;return function(){var n=O(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.delete(g.BC.GENRE+"/"+e).then((function(){r({type:a.kn.DELETE_GENRE,payload:e}),r((0,f.Q)(t-1)),r((0,l.fz)({text:(0,b.PV)("genres.success.delete.message")})),r((0,u.$)())})).catch((function(e){var t=e.response;r((0,l.fz)({text:t.data.message,type:a.rW.ERROR}))}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}}]);