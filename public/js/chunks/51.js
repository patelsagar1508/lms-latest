(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"9bPP":function(e,a,t){"use strict";t.r(a);var n=t("q1tI"),r=t.n(n),o=t("ATNu"),s=t("17x9"),c=t.n(s),l=t("XHFK"),i=t("WAKd"),u=t("/MKj"),d=t("o0o1"),m=t.n(d),p=t("LWX+"),g=t("q8lI"),f=t("zzOX"),h=t("IAj0");function w(e,a,t,n,r,o,s){try{var c=e[o](s),l=c.value}catch(e){return void t(e)}c.done?a(l):Promise.resolve(l).then(n,r)}var b=t("ok1R"),_=t("rhny"),v=t("d/v1"),E=t("pJVQ"),y=t("BfhE"),O=t("fg8b");function j(){return(j=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function C(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,r,o=[],s=!0,c=!1;try{for(t=t.call(e);!(s=(n=t.next()).done)&&(o.push(n.value),!a||o.length!==a);s=!0);}catch(e){c=!0,r=e}finally{try{s||null==t.return||t.return()}finally{if(c)throw r}}return o}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return N(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}var P=function(e){var a=e.onSaveChangePassword,t=e.handleSubmit,o=Object(n.createRef)(),s=C(Object(n.useState)(!0),2),c=s[0],l=s[1],i=C(Object(n.useState)(!0),2),u=i[0],d=i[1];Object(n.useEffect)((function(){o.current.focus()}),[]);return r.a.createElement(b.a,{className:"animated fadeIn m-3"},r.a.createElement(_.a,{xs:12},r.a.createElement(v.a,{name:"current_password",type:"password",label:"change-password.input.old_password.label",required:!0,autoComplete:"off",inputRef:o,groupText:"lock",component:y.a})),r.a.createElement(_.a,{xs:12},r.a.createElement(v.a,{name:"password",type:c?"password":"text",label:"change-password.input.password.label",required:!0,autoComplete:"off",groupText:"lock",component:y.a,appendGroupText:c?"eye-slash":"eye",isAppendIcon:!0,onClick:function(){l(!c)}})),r.a.createElement(_.a,{xs:12},r.a.createElement(v.a,{name:"confirm_password",type:u?"password":"text",label:"change-password.input.confirm-password.label",autoComplete:"off",required:!0,groupText:"lock",component:y.a,appendGroupText:u?"eye-slash":"eye",isAppendIcon:!0,onClick:function(){d(!u)}})),r.a.createElement(_.a,{xs:12},r.a.createElement(O.a,j({onSave:t((function(e){a(e)}))},e))))};P.propTypes={onSaveChangePassword:c.a.func,handleSubmit:c.a.func};var x=Object(E.a)({form:"changePasswordForm",validate:function(e){var a={};return e.current_password||(a.name=Object(i.g)("change-password.old_password.input.validate.msg")),e.password||(a.password=Object(i.g)("change-password.password.input.validate.msg")),e.password&&e.password.length<6&&(a.password=Object(i.g)("change-password.input.password-length.validate.label")),e.confirm_password||(a.confirm_password=Object(i.g)("change-password.confirm_password.input.validate.msg")),e.password!==e.confirm_password&&(a.confirm_password=Object(i.g)("change-password.match_password.input.validate.msg")),a}})(P),S=t("DCcX"),A=t("vkoW"),T=t("CaDr"),k=function(e){var a=e.onChangePassword,t=e.toggleChangePasswordModal,n=e.isChangePasswordModelToggle,o={onSaveChangePassword:function(e){a(e)},onCancel:t};return r.a.createElement(S.a,{isOpen:n,toggle:t,className:"modal-primary primary modal-config--small"},r.a.createElement(A.a,{toggle:t},Object(i.g)("change-password.model.header-title")),r.a.createElement(T.a,null,r.a.createElement(x,o)))};k.propTypes={onChangePassword:c.a.func,toggleChangePasswordModal:c.a.func};var I=Object(u.b)((function(e){return{isChangePasswordModelToggle:e.isChangePasswordModelToggle}}),{onChangePassword:function(e){return function(){var a,t=(a=m.a.mark((function a(t){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.put(l.f.CHANGE_PASSWORD,e).then((function(e){t(Object(f.a)({text:Object(i.g)("change-password.success.message")})),t(Object(h.a)())})).catch((function(e){var a=e.response;t(Object(f.a)({text:a.data.message,type:p.W.ERROR}))}));case 2:case"end":return a.stop()}}),a)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function s(e){w(o,n,r,s,c,"next",e)}function c(e){w(o,n,r,s,c,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()}})(k),M=t("x/q7"),R=t("iLxC"),L=t("97+O"),q=function(e){var a=e.user,t=e.history,n=e.appName,s=e.appLogo,c=e.toggleChangePasswordModal,d={toggleChangePasswordModal:c},m=Object(u.c)(),p=Object(u.d)((function(e){return e.sidebarReducer.sidebarShow})),g=null;a&&(a.name=a.first_name,a.last_name&&(a.name+=" "+a.last_name),a.image_path&&(g=a.image_path));return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.f,{className:"ps-1",onClick:function(){return m({type:"SET",sidebarShow:!p})}},r.a.createElement(M.a,{icon:R.a,size:"lg"})),r.a.createElement(o.j,{className:"header__sidebar-logo d-md-none"},r.a.createElement("img",{className:"header__app-logo",src:s,alt:s}),r.a.createElement("span",{className:"ml-2 header__app-name"},n)),r.a.createElement(o.e,{className:"ml-auto header__margin"},r.a.createElement(L.a,{variant:"nav-item"},r.a.createElement(L.a.Toggle,{placement:"bottom-end",caret:!1,className:" py-0 shadow-none header__dropdown"},g?r.a.createElement("img",{src:g,className:"img-avatar header__img",alt:"user-avatar"}):r.a.createElement("div",{className:"header__avatar img-avatar"},r.a.createElement("span",{className:"header__avatar-text"},Object(i.e)(a?a.name:null))),r.a.createElement("span",{className:"mr-2 header__user-name"},a?a.name:null)),r.a.createElement(L.a.Menu,{placement:"bottom-end",className:"header__user-name"},r.a.createElement(L.a.Item,{onClick:function(){t.push(l.d.USER_PROFILE)},className:"header__border"},r.a.createElement("i",{className:"fa fa-cog header__user-icon"}),Object(i.g)("profile.title")),r.a.createElement(L.a.Item,{onClick:function(){c()},className:"header__border"},r.a.createElement("i",{className:"fa fa-lock header__user-icon"}),Object(i.g)("change-password.title")),r.a.createElement(L.a.Item,{onClick:function(a){return e.onLogout(a)},className:"header__border"},r.a.createElement("i",{className:"fa fa-sign-out header__user-icon"}),Object(i.g)("header.logout.title"))),r.a.createElement("div",{className:"d-flex justify-content-end"}),r.a.createElement(I,d))))};q.propTypes={user:c.a.object,history:c.a.object,appName:c.a.string,appLogo:c.a.string};a.default=Object(u.b)(null,{toggleChangePasswordModal:h.a})(q)},IAj0:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t("XHFK"),r=function(){return{type:n.j.CHANGE_PASSWORD_MODEL_ACTION}}}}]);